webpackJsonp([9],{"6qL9":function(e,r){},Quw4:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});t("VjuZ");var s={name:"login",title:"Login « WEDN.NET | make IT better",data:function(){var e={username:"zce",password:"wanglei"},r={username:[{required:!0,message:"请输入用户名"},{min:2,max:16,message:"长度在 2 到 16 个字符"}],password:[{required:!0,message:"请输入密码"},{min:6,max:16,message:"长度在 6 到 16 个字符"}]};return{model:e,rules:r,error:null,loading:!1}},methods:{submit:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;r.error=null,r.loading=!0,r.$store.dispatch("createToken",r.model).then(function(e){r.$router.replace({path:r.$route.query.redirect||"/"}),r.loading=!1}).catch(function(e){switch(console.error(e),r.error={title:"发生错误",message:"出现异常，请稍后再试！"},e.response&&e.response.status){case 401:r.error.message="用户名或密码错误！";break;case 500:r.error.message="服务器内部异常，请稍后再试！";break}r.loading=!1})})}}},a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",{staticClass:"login"},[t("header",{staticClass:"login-header"},[t("h1",{staticClass:"brand"},[t("router-link",{attrs:{to:"/",tabindex:"-1"}},[e._v("WEDN.NET")])],1),e.error?t("el-alert",{attrs:{title:e.error.title,type:"warning",description:e.error.message,"show-icon":""}}):e._e()],1),t("el-form",{ref:"login-form",staticClass:"login-form",attrs:{"auto-complete":"off",model:e.model,rules:e.rules,"label-position":"top"}},[t("h2",{staticClass:"heading"},[e._v("Sign-in")]),t("el-form-item",{attrs:{label:"Login",prop:"username"}},[t("el-input",{attrs:{type:"text",placeholder:"Please enter username"},model:{value:e.model.username,callback:function(r){e.$set(e.model,"username",r)},expression:"model.username"}})],1),t("el-form-item",{attrs:{label:"Password",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"Please enter password"},model:{value:e.model.password,callback:function(r){e.$set(e.model,"password",r)},expression:"model.password"}})],1),t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(r){e.submit("login-form")}}},[e._v(e._s(e.loading?"Loading...":"Login"))])],1),e._m(0)],1)},o=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("footer",{staticClass:"login-footer"},[e._v("\n    ← Back to "),t("a",{attrs:{href:"/"}},[e._v("WEDN.NET")])])}],n=t("XyMi");function l(e){t("6qL9")}var i=!1,u=l,c=null,m=null,d=Object(n["a"])(s,a,o,i,u,c,m);r["default"]=d.exports}});
//# sourceMappingURL=9.696c4bcb.js.map